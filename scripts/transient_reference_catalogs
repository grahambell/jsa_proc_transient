#!/usr/bin/env python3

from __future__ import absolute_import, division, print_function

import logging
import os
import sys


sys.path.append(
    os.path.join(os.path.dirname(os.path.dirname(sys.argv[0])), 'lib'))

from jsa_proc_transient.dr import create_reference_catalog

logging.basicConfig(level=logging.DEBUG)

for (source, filter_, reductiontype, ref_map) in [
        ('IC348',         '850', 'R1', '000/000204/000204830/IC348_20151222_00019_850_ER1.sdf'),
        ('IC348',         '850', 'R2', '000/000204/000204830/IC348_20151222_00019_850_ER2.sdf'),

        ('NGC1333',       '850', 'R1', '000/000204/000204828/NGC1333_20151222_00018_850_ER1.sdf'),
        ('NGC1333',       '850', 'R2', '000/000204/000204828/NGC1333_20151222_00018_850_ER2.sdf'),

        ('NGC2024',       '850', 'R1', '000/000206/000206538/NGC2024_20151226_00049_850_ER1.sdf'),
        ('NGC2024',       '850', 'R2', '000/000206/000206538/NGC2024_20151226_00049_850_ER2.sdf'),

        ('NGC2071',       '850', 'R1', '000/000206/000206539/NGC2071_20151226_00052_850_ER1.sdf'),
        ('NGC2071',       '850', 'R2', '000/000206/000206539/NGC2071_20151226_00052_850_ER2.sdf'),

        ('OMC23',         '850', 'R1', '000/000206/000206540/OMC23_20151226_00036_850_ER1.sdf'),
        ('OMC23',         '850', 'R2', '000/000206/000206540/OMC23_20151226_00036_850_ER2.sdf'),

        ('OPH_CORE',      '850', 'R1', '000/000206/000206541/OPH_CORE_20160115_00084_850_ER1.sdf'),
        ('OPH_CORE',      '850', 'R2', '000/000206/000206541/OPH_CORE_20160115_00084_850_ER2.sdf'),

        ('SERPENS_MAIN',  '850', 'R1', '000/000206/000206548/SERPENS_MAIN_20160202_00054_850_ER1.sdf'),
        ('SERPENS_MAIN',  '850', 'R2', '000/000206/000206548/SERPENS_MAIN_20160202_00054_850_ER2.sdf'),

        ('SERPENS_SOUTH', '850', 'R1', '000/000206/000206547/SERPENS_SOUTH_20160202_00058_850_ER1.sdf'),
        ('SERPENS_SOUTH', '850', 'R2', '000/000206/000206547/SERPENS_SOUTH_20160202_00058_850_ER2.sdf'),
        ]:
    create_reference_catalog(
        source, filter_, reductiontype,
        os.path.join('/net/kamaka/export/data/jsa_proc/output', ref_map))
